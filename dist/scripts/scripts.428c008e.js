"use strict";angular.module("gridpoolsApp",["ngAnimate","ngCookies","ngMessages","ngResource","ngSanitize","ngTouch","ui.router","ui.bootstrap","akoenig.deckgrid","firebase"]).config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/"),a.state("home",{url:"/",templateUrl:"views/landing.html",controller:"LandingController",module:"public"}).state("grid",{url:"/grid",templateUrl:"views/grid.html",controller:"GridController",module:"public"})}]),angular.module("gridpoolsApp").controller("LandingController",["$scope","$state","Create","$modal",function(a,b,c,d){a.openModal=function(){var b=d.open({templateUrl:"views/login.html",controller:"LoginController"});b.result.then(function(b){a.selected=b})},a.creds={},a.play=function(a){c.createUser(a).then(function(){c.createGrid(a),b.go("grid")},function(a){console.log(a)})}}]),angular.module("gridpoolsApp").controller("GridController",["$scope","$modal",function(a,b){a.squares=[{sq:"0 & 0"},{sq:"0 & 1"},{sq:"0 & 2"},{sq:"0 & 3"},{sq:"0 & 4"},{sq:"0 & 5"},{sq:"0 & 6"},{sq:"0 & 7"},{sq:"0 & 8"},{sq:"0 & 9"},{sq:"1 & 0"},{sq:"1 & 1"},{sq:"1 & 2"},{sq:"1 & 3"},{sq:"1 & 4"},{sq:"1 & 5"},{sq:"1 & 6"},{sq:"1 & 7"},{sq:"1 & 8"},{sq:"1 & 9"},{sq:"2 & 0"},{sq:"2 & 1"},{sq:"2 & 2"},{sq:"2 & 3"},{sq:"2 & 4"},{sq:"2 & 5"},{sq:"2 & 6"},{sq:"2 & 7"},{sq:"2 & 8"},{sq:"2 & 9"},{sq:"3 & 0"},{sq:"3 & 1"},{sq:"3 & 2"},{sq:"3 & 3"},{sq:"3 & 4"},{sq:"3 & 5"},{sq:"3 & 6"},{sq:"3 & 7"},{sq:"3 & 8"},{sq:"3 & 9"},{sq:"4 & 0"},{sq:"4 & 1"},{sq:"4 & 2"},{sq:"4 & 3"},{sq:"4 & 4"},{sq:"4 & 5"},{sq:"4 & 6"},{sq:"4 & 7"},{sq:"4 & 8"},{sq:"4 & 9"},{sq:"5 & 0"},{sq:"5 & 1"},{sq:"5 & 2"},{sq:"5 & 3"},{sq:"5 & 4"},{sq:"5 & 5"},{sq:"5 & 6"},{sq:"5 & 7"},{sq:"5 & 8"},{sq:"5 & 9"},{sq:"6 & 0"},{sq:"6 & 1"},{sq:"6 & 2"},{sq:"6 & 3"},{sq:"6 & 4"},{sq:"6 & 5"},{sq:"6 & 6"},{sq:"6 & 7"},{sq:"6 & 8"},{sq:"6 & 9"},{sq:"7 & 0"},{sq:"7 & 1"},{sq:"7 & 2"},{sq:"7 & 3"},{sq:"7 & 4"},{sq:"7 & 5"},{sq:"7 & 6"},{sq:"7 & 7"},{sq:"7 & 8"},{sq:"7 & 9"},{sq:"8 & 0"},{sq:"8 & 1"},{sq:"8 & 2"},{sq:"8 & 3"},{sq:"8 & 4"},{sq:"8 & 5"},{sq:"8 & 6"},{sq:"8 & 7"},{sq:"8 & 8"},{sq:"8 & 9"},{sq:"9 & 0"},{sq:"9 & 1"},{sq:"9 & 2"},{sq:"9 & 3"},{sq:"9 & 4"},{sq:"9 & 5"},{sq:"9 & 6"},{sq:"9 & 7"},{sq:"9 & 8"},{sq:"9 & 9"}],a.openModal=function(){console.log("Modal function on click");var c=b.open({templateUrl:"views/modal.html",controller:"ModalController"});c.result.then(function(b){a.selected=b})}}]),angular.module("gridpoolsApp").controller("ModalController",["$scope","$modalInstance",function(a,b){a.close=function(){b.close()}}]),angular.module("gridpoolsApp").controller("LoginController",["$scope","$modalInstance","Login","$state",function(a,b,c,d){a.user={},a.login=function(e){c.login(e).then(function(){b.close(),d.go("grid")},function(b){a.errorMsg=b})},a.forgotPw=function(b){c.forgotPw(b).then(function(b){a.success=b},function(b){a.error=b})}}]),angular.module("gridpoolsApp").factory("Create",["$firebase","$q",function(a,b){var c=new Firebase("https://scorching-torch-8007.firebaseio.com/");return{createUser:function(a){var d=b.defer();return c.createUser({email:a.email,password:a.password},function(a){null===a?d.resolve("User created successfully"):d.reject("Error creating user:",a)}),d.promise},createGrid:function(a){c.set({grid:a.gridName})}}}]),angular.module("gridpoolsApp").factory("Login",["$firebase","$q",function(a,b){var c=new Firebase("https://scorching-torch-8007.firebaseio.com/");return{login:function(a){var d=b.defer();return c.authWithPassword({email:a.email,password:a.password},function(a){a?d.reject("Login failed!",a):d.resolve("Authenticated successfully with payload:")}),d.promise},forgotPw:function(a){var d=b.defer();return c.resetPassword({email:a.email},function(a){null===a?d.resolve("Password reset email sent successfully"):d.reject("Sorry, we have no account with that email address")}),d.promise}}}]);